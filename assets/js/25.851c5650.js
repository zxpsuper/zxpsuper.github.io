(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{337:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("åŸæœ¬æ˜¯è®¡åˆ’ç”¨ travis-cli è‡ªåŠ¨æ„å»ºå‘å¸ƒåšå®¢çš„ï¼Œç»“æœç™»å½•ä¸Šå»å‘ç°å·²ç»å¼€å§‹æ”¶è´¹ä½¿ç”¨äº†ï¼Œæ²¡åŠæ³•åªèƒ½è½¬å‘ Github Action äº†ï¼")]),t._v(" "),s("p",[t._v("GitHub Actions æ˜¯ GitHub å®˜æ–¹æ¨å‡ºçš„æŒç»­é›†æˆ/éƒ¨ç½²æ¨¡å—æœåŠ¡ï¼ˆCI/CDï¼‰ï¼Œå’Œ jenkinsã€Travis CI æ˜¯åŒä¸€ç±»äº§å“å®šä½ã€‚")]),t._v(" "),s("p",[t._v("ä½† Actions çš„æœ€å¤§ä¼˜åŠ¿ï¼Œå°±æ˜¯å®ƒæ˜¯ä¸ GitHub é«˜åº¦æ•´åˆçš„ï¼Œåªéœ€ä¸€ä¸ªé…ç½®æ–‡ä»¶å³å¯è‡ªåŠ¨å¼€å¯æœåŠ¡ã€‚ç”šè‡³ä½ ä¸éœ€è¦è´­ä¹°æœåŠ¡å™¨ â€”â€” GitHub Actions è‡ªå¸¦äº‘ç¯å¢ƒè¿è¡Œï¼ŒåŒ…æ‹¬ç§æœ‰ä»“åº“ä¹Ÿå¯ä»¥äº«ç”¨ï¼Œè€Œä¸”äº‘ç¯å¢ƒæ€§èƒ½ä¹Ÿååˆ†å¼ºåŠ²ã€‚")]),t._v(" "),s("tongji"),t._v(" "),s("p",[s("strong",[t._v("é‚£ä¹ˆå¦‚ä½•åˆ©ç”¨ Github Action æ„å»ºå¹¶å‘å¸ƒåšå®¢å‘¢ï¼Ÿ")])]),t._v(" "),s("ol",[s("li",[t._v("æœ¬åœ°åˆ›å»ºå…¬é’¥å¯†é’¥å¹¶ä¿å­˜åˆ°ä»“åº“è®¾ç½®ä¸­")])]),t._v(" "),s("p",[t._v("æœ¬åœ°æ‰§è¡Œ "),s("code",[t._v("ssh-keygen -f github-deploy-key")]),t._v(" åä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("github-deploy-key")]),t._v("å¯†é’¥")]),t._v(" "),s("li",[s("code",[t._v("github-deploy-key.pub")]),t._v("å…¬é’¥")])]),t._v(" "),s("p",[t._v("åœ¨ä»“åº“çš„ Setting ä¸­æ‰¾åˆ° Actions secrets and variables, æ·»åŠ ä¸€ä¸ª Secret, å–å "),s("code",[t._v("BLOB_DEPLOY_PRI")]),t._v(", å°†å¯†é’¥çš„å†…å®¹å¤åˆ¶è¿›å»å¹¶ä¿å­˜ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/github-action-01.png",alt:""}})]),t._v(" "),s("p",[t._v("åœ¨ä»“åº“çš„ Setting ä¸­æ‰¾åˆ° Deploy keys, æ·»åŠ åˆšæ‰ç”Ÿæˆçš„å…¬é’¥ï¼Œå–å "),s("code",[t._v("BLOB_DEPLOY_PUB")]),t._v(", å¹¶å‹¾é€‰ "),s("code",[t._v("Allow write access")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/github-action-02.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("åˆ›å»º workflow æ¨¡æ¿ "),s("code",[t._v("deploy.yml")]),t._v(" æ–‡ä»¶")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(".github\n  Â â””â”€ workflows\n  Â    Â â””â”€ deploy.yml\n")])])]),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build and Deploy to GitHub Pages\n \n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŒ‡å®šè§¦å‘éƒ¨ç½²çš„åˆ†æ”¯ï¼Œé€šå¸¸æ˜¯mainæˆ–master")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build-and-deploy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨æœ€æ–°çš„Ubuntuè™šæ‹Ÿç¯å¢ƒ")]),t._v("\n \n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Checkout Code\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@v2\n \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Setup Node.js\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("node@v1\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node-version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'14'")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŒ‡å®šNode.jsçš„ç‰ˆæœ¬ï¼Œæ ¹æ®æ‚¨çš„é¡¹ç›®éœ€æ±‚è°ƒæ•´")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Install Dependencies\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®‰è£…ä¾èµ–")]),t._v("\n \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm run docs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("build "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ„å»ºæ–‡æ¡£")]),t._v("\n \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deploy to GitHub Pages\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨ä»–äººçš„ action å°†æ–‡æ¡£æ¨é€è‡³ gh-pages åˆ†æ”¯")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JamesIves/github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@4.1.4 \n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("GITHUB_TOKEN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.BLOB_DEPLOY_PRI "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BRANCH")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# éƒ¨ç½²åˆ°gh-pagesåˆ†æ”¯")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("FOLDER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docs/.vuepress/dist  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŒ‡å®šæ„å»ºç›®å½•")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("CLEAN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¸…ç†æ—§æ–‡ä»¶")]),t._v("\n")])])]),s("p",[t._v("åœ¨å®Œæˆä¸Šè¿°æ“ä½œä¹‹åï¼Œåªè¦æ¯æ¬¡æ¨é€ä»£ç åˆ° master åˆ†æ”¯ï¼Œå°±ä¼šè§¦å‘ workflow è‡ªåŠ¨æ‰§è¡Œ action æ„å»ºå¹¶éƒ¨ç½²ï¼Œåšåˆ°æ¨é€å³éƒ¨ç½²çš„æ•ˆæœï¼Œå¤§å¤§è§£æ”¾ç”Ÿäº§åŠ›ï¼")]),t._v(" "),s("p",[t._v("æ„å»ºéƒ¨ç½²æµç¨‹å¯ä»¥åœ¨ Action tab ä¸­çœ‹åˆ°ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹æ„å»ºçŠ¶æ€ï¼Œåˆ†æè§£å†³é—®é¢˜ï¼ğŸ˜ğŸ˜")]),t._v(" "),s("comment")],1)}),[],!1,null,null,null);s.default=e.exports}}]);