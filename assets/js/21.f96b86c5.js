(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{332:function(s,a,t){"use strict";t.r(a);var e=t(5),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("之前安装 Ubunu 22.04 LTS 系统后，发现 firefox 打开就崩溃，查了下网上说了 snap 的缘故，删除即可恢复正常。步骤如下：")]),s._v(" "),a("ol",[a("li",[s._v("打开终端，输入 snap list 查看已安装的软件。")])]),s._v(" "),a("tongji"),s._v(" "),a("p",[a("img",{attrs:{src:"/images/snap-01.png",alt:""}})]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("停止 snapd 服务")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl disable snapd.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl disable snapd.socket\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl disable snapd.seeded.service\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("依次移除 snap 安装的软件")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" snap remove firefox\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" snap remove snap-store\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" snap remove gtk-common-themes\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" snap remove gnome-3-38-2004\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" snap remove core18\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" snap remove snapd-desktop-integration\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("删除残留的 snap 缓存数据")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" /var/cache/snapd/\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("完全清除 snapd")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" autoremove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--purge")]),s._v(" snapd\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[s._v("清除用户目录 snap")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" ~/snap\n")])])]),a("ol",{attrs:{start:"7"}},[a("li",[s._v("重新用 apt 安装 firefox")])]),s._v(" "),a("p",[s._v("在安装之前，防止 Ubuntu 自动用 snap 安装 firefox，先创建文件：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/apt/preferences.d/firefox-no-snap\n")])])]),a("p",[s._v("输入下面配置并 ctrl + X 保存：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Package: firefox*\nPin: release "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("o")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Ubuntu*\nPin-Priority: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n")])])]),a("p",[s._v("然后添加 apt 仓库：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository ppa:mozillateam/ppa\n")])])]),a("p",[s._v("最后再安装 firefox")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" firefox\n")])])]),a("p",[s._v("大功告成！！snap 版的 firefox 无法使用还是挺难受的，删除 snap 方法分享给大家，希望能够帮助到你😄")]),s._v(" "),a("comment")],1)}),[],!1,null,null,null);a.default=n.exports}}]);